---
title: "Rubyの言語仕様1"
permalink: /ruby/ruby-spec1/
toc: true
---
## これまでのRubyに関するまとめ
[Rubyの基礎](/archives/ruby/ruby-basics/){:target="_blank"}に記載した、Rubyに関する内容をまとめます。

### rubyコマンド
Rubyのバージョンを表示

```bash
ruby -v
```

Rubyのプログラムを実行
```bash
ruby プログラムファイル名
```

### プログラムファイル
テキストファイル。拡張子は<strong>.rb</strong>が一般的。

### プログラムの実行
プログラムファイルの上から順番に一行ずつ実行される。

### コメント
プログラム中に説明などを記入する場合に使う。Rubyは無視して処理を進める。
```ruby
# コメント
=begin
コメント
=end
```

### 文字列
文字列は、**"**で囲む。

```ruby
"文字列"
```

### 数値
数値は、半角数字を使う。

```ruby
5 # 整数
3.1415 # 実数
```

### putsメソッド
標準出力（コマンドプロンプト）に、文字列（末尾に改行を加える）を出力する。

```ruby
puts "文字列" # 文字列
puts 5 # 数値
```

### printメソッド
標準出力（コマンドプロンプト）に、文字列（末尾に改行を加えない）を出力する。

```ruby
print "文字列" # 文字列
print 5 # 数値
```

### getsメソッド
標準入力（キーボード）から、Enterキーが押されるまで入力した文字列（改行含む）を返す。

```ruby
gets
```

### 変数
変数は、データ（文字列や数値など）を格納する。Rubyの変数名は、半角英字小文字か`_`で始める。

```ruby
x
data01
_kingaku
```

### 変数への値の代入
右辺を左辺の変数に代入する。

```ruby
string = "文字列" # 文字列を代入
string2 = string # string2にstringの中身を代入
number = 5 # 数値を代入
number = number + 1 # numberの値に1を加算してnumberに代入
string3 = gets # string3にメソッドの戻り値（文字列）を代入
```

### 式展開
文字列の中で、式（値や計算結果）を文字列に変換する。

```ruby
"#{5}" # 数値
"#{5 + 3}" # 式
x = 5
"#{x}" # 変数
```

### chompメソッド
行末の改行を削除した文字列を返す。改行がなければ何もしない。

```ruby
input = gets.chomp
```

### to_iメソッド
文字列を整数に変換して返す。

```ruby
number = "53".to_i # 文字列の"53"を数値の53に変換
```

## Rubyの言語仕様その１
上記内容の他に、Rubyに関する基本的なことを説明します。各自で、プログラムを書き換えて、試してみてください。

### 演算
Rubyは、四則演算の他、複数の代数演算子が用意されています。

- 加算：`+`
- 減算：`-`
- 乗算：`*`
- 除算：`/`
- 剰余：`%`
- べき乗：`**`
- ・・・

また、真偽値（true、false）を返す、比較演算子も用意されています。

- 等価：`==`
- 不等価：`!=`
- 小なり：`<`
- 大なり：`>`
- 小なりイコール：`<=`
- 大なりイコール：`>=`
- ・・・

上記以外にもRubyで用意されている演算子はたくさんあります。
{: .notice--info}

### 条件分岐
Rubyは、**条件式**を使って条件分岐させることができます。ここでは**if**文について説明します。

**条件式**とは、真偽値（true、false）を返す式（や値）のことです。

```ruby
true # 真
false # 偽
3 == 5 # 偽
3 < 5 # 真
8 <= 5 + 3  # 真
3 # 真
nil # 偽
```

Rubyには、**nilとfalseは偽、それ以外は真**というル真偽判定のルールがあります。
{: .notice--info}

- if〜end

```ruby
if 条件式
  内容
end
```

これは、**もし[条件式]が真だったら[内容]を実行する**という構文です。[条件式]が真でなければ、何も実行しません。

- if〜else〜end

```ruby
if 条件式
  内容1
else
  内容2
end
```

これは、**もし[条件式]が真だったら[内容1]を実行し、それ以外は[内容2]を実行する**構文です。[内容1]か[内容2]のどちらか、必ず実行します。両方とも実行されることはありません。

- if〜elsif〜end

```ruby
if 条件式1
  内容1
elsif 条件式2
  内容2
end
```

これは、**もし[条件式1]が真だったら[内容1]を実行し、もし[条件式1]が偽かつ[条件式2]が真だったら[内容2]を実行する**構文です。[条件式1]と[条件式2]が両方とも偽であれば、何も実行しません。

- if〜elsif〜else〜end

```ruby
if 条件式1
  内容1
elsif 条件式2
  内容2
else
  内容3
end
```

これは、**もし[条件式1]が真だったら[内容1]を実行し、もし[条件式1]が偽かつ[条件式2]が真だったら[内容2]を実行し、それ以外は[内容3]を実行する**構文です。[内容1]、[内容2]、[内容3]のいずれか、必ず実行します。

**elsif**を複数使うこともできます。
{: .notice--info}

### 繰り返し
Rubyには、繰り返す処理の書き方がいくつかあります。ここでは、代表的な２方法を説明します。

- while

これは、**もし[条件式]が真だったら[内容]を実行する=>もし[条件式]が真だったら[内容]を実行する=>・・・繰り返す・・・もし[条件式]が偽だったら終了する**構文です。

```ruby
while 条件式
  内容
end
```

[条件式]が真から偽になる処理を[内容]に入れる必要があります。そうでなければ、プログラムが終了しなくなります（無限ループ）。
{: .notice--info}

以下は、**while**文を使った、1から10までの数字を出力して終了するプログラムです。

```ruby
count = 1
while count <= 10
  puts count
  count = count + 1
end
```

- loop

これは、[内容]を実行する=>[内容]を実行する=>・・・繰り返す・・・**構文です。つまり無限ループになります。

```ruby
loop
  内容
end
```

実行したプログラムは、終了させる必要があります。Rubyでは、ループを終了させるための**break文**を使います。

以下は、**loop**を使った、1から10までの数字を出力して終了するプログラムです。

```ruby
count = 1
loop
  puts count
  count = count + 1

  if count > 10
    break
  end
end
```

**break文**は、loopだけでなく、whileやその他の繰り返し構文でも使えます。
{: .notice--info}
